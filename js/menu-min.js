!function(e,t,n,a){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.3",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:!0,duration:700,easing:"swing"},init:function(e,t,n){Foundation.inherit(this,"throttle"),this.bindings(t,n)},events:function(){var t=this,n=t.S,a=t.settings;t.set_expedition_position(),n(t.scope).off(".magellan").on("click.fndtn.magellan","["+t.add_namespace("data-magellan-arrival")+"] a[href*=#]",function(n){var a=this.hostname===location.hostname||!this.hostname,r=t.filterPathname(location.pathname)===t.filterPathname(this.pathname),o=this.hash.replace(/(:|\.|\/)/g,"\\$1"),i=this;if(a&&r&&o){n.preventDefault();var s=e(this).closest("["+t.attr_name()+"]"),l=s.data("magellan-expedition-init"),f=this.hash.split("#").join(""),c=e('a[name="'+f+'"]');0===c.length&&(c=e("#"+f));var u=c.offset().top-l.destination_threshold+1;l.offset_by_height&&(u-=s.outerHeight()),e("html, body").stop().animate({scrollTop:u},l.duration,l.easing,function(){history.pushState?history.pushState(null,null,i.pathname+i.search+"#"+f):location.hash=i.pathname+i.search+"#"+f})}}).on("scroll.fndtn.magellan",t.throttle(this.check_for_arrivals.bind(this),a.throttle_delay))},check_for_arrivals:function(){var e=this;this.update_arrivals(),this.update_expedition_positions()},set_expedition_position:function(){var t=this;e("["+this.attr_name()+"=fixed]",t.scope).each(function(n,a){var r=e(this),o=r.data("magellan-expedition-init"),i=r.attr("styles"),s,l;r.attr("style",""),s=r.offset().top+o.threshold,l=parseInt(r.data("magellan-fixed-top")),isNaN(l)||(t.settings.fixed_top=l),r.data(t.data_attr("magellan-top-offset"),s),r.attr("style",i)})},update_expedition_positions:function(){var n=this,a=e(t).scrollTop();e("["+this.attr_name()+"=fixed]",n.scope).each(function(){var t=e(this),r=t.data("magellan-expedition-init"),o=t.attr("style"),i=t.data("magellan-top-offset");if(a+n.settings.fixed_top>=i){var s=t.prev("["+n.add_namespace("data-magellan-expedition-clone")+"]");0===s.length&&((s=t.clone()).removeAttr(n.attr_name()),s.attr(n.add_namespace("data-magellan-expedition-clone"),""),t.before(s)),t.css({position:"fixed",top:r.fixed_top}).addClass("fixed")}else t.prev("["+n.add_namespace("data-magellan-expedition-clone")+"]").remove(),t.attr("style",o).css("position","").css("top","").removeClass("fixed")})},update_arrivals:function(){var n=this,a=e(t).scrollTop();e("["+this.attr_name()+"]",n.scope).each(function(){var t=e(this),r=t.data(n.attr_name(!0)+"-init"),o=n.offsets(t,a),i=t.find("["+n.add_namespace("data-magellan-arrival")+"]"),s=!1;o.each(function(e,a){var o;if(a.viewport_offset>=a.top_offset)return t.find("["+n.add_namespace("data-magellan-arrival")+"]").not(a.arrival).removeClass(r.active_class),a.arrival.addClass(r.active_class),s=!0,!0}),s||i.removeClass(r.active_class)})},offsets:function(t,n){var a=this,r=t.data(a.attr_name(!0)+"-init"),o=n;return t.find("["+a.add_namespace("data-magellan-arrival")+"]").map(function(n,i){var s=e(this).data(a.data_attr("magellan-arrival")),l=e("["+a.add_namespace("data-magellan-destination")+"="+s+"]");if(l.length>0){var f=l.offset().top-r.destination_threshold;return r.offset_by_height&&(f-=t.outerHeight()),f=Math.floor(f),{destination:l,arrival:e(this),top_offset:f,viewport_offset:o}}}).sort(function(e,t){return e.top_offset<t.top_offset?-1:e.top_offset>t.top_offset?1:0})},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},off:function(){this.S(this.scope).off(".magellan"),this.S(t).off(".magellan")},filterPathname:function(e){return(e=e||"").replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},reflow:function(){var t=this;e("["+this.add_namespace("data-magellan-expedition-clone")+"]",this.scope).remove()}}}(jQuery,window,window.document),function(e,t,n){"use strict";function a(n){if(r=t.documentElement,o=t.body,G(),se=this,de=(n=n||{}).constants||{},n.easing)for(var a in n.easing)U[a]=n.easing[a];_e=n.edgeStrategy||"set",ce={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},(ue=!1!==n.forceHeight)&&(ze=n.scale||1),pe=n.mobileDeceleration||S,he=!1!==n.smoothScrolling,ge=n.smoothScrollingDuration||A,ve={targetTop:se.getScrollTop()},(Re=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})())?((fe=t.getElementById(n.skrollrBody||k))&&ie(),X(),Pe(r,[y,b],[_])):Pe(r,[y,T],[_]),se.refresh(),xe(e,"resize orientationchange",function(){var e=r.clientWidth,t=r.clientHeight;(t!==je||e!==Me)&&(je=t,Me=e,qe=!0)});var i=K();return function e(){Q(),be=i(e)}(),se}var r,o,i={get:function(){return se},init:function(e){return se||new a(e)},VERSION:"0.6.29"},s=Object.prototype.hasOwnProperty,l=e.Math,f=e.getComputedStyle,c="touchstart",u="touchmove",d="touchcancel",p="touchend",m="skrollable",h=m+"-before",g=m+"-between",v=m+"-after",y="skrollr",_="no-"+y,T=y+"-desktop",b=y+"-mobile",x="linear",w=1e3,S=.004,k="skrollr-body",A=200,E="start",F="end",C="center",P="bottom",H="___skrollable_id",D=/^(?:input|textarea|button|select)$/i,I=/^\s+|\s+$/g,N=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,$=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,z=/^(@?[a-z\-]+)\[(\w+)\]$/,O=/-([a-z0-9_])/g,V=function(e,t){return t.toUpperCase()},B=/[\-+]?[\d]*\.?[\d]+/g,M=/\{\?\}/g,j=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,q=/[a-z\-]+-gradient/g,L="",R="",G=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(f){var t=f(o,null);for(var n in t)if(L=n.match(e)||+n==n&&t[n].match(e))break;if(!L)return void(L=R="");"-"===(L=L[0]).slice(0,1)?(R=L,L={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[L]):R="-"+L.toLowerCase()+"-"}},K=function(){var t=e.requestAnimationFrame||e[L.toLowerCase()+"RequestAnimationFrame"],n=Ie();return(Re||!t)&&(t=function(t){var a=Ie()-n,r=l.max(0,1e3/60-a);return e.setTimeout(function(){n=Ie(),t()},r)}),t},Y=function(){var t=e.cancelAnimationFrame||e[L.toLowerCase()+"CancelAnimationFrame"];return(Re||!t)&&(t=function(t){return e.clearTimeout(t)}),t},U={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-l.cos(e*l.PI)/2+.5},sqrt:function(e){return l.sqrt(e)},outCubic:function(e){return l.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-l.abs(3*l.cos(e*t*1.028)/t)}};a.prototype.refresh=function(e){var a,r,o=!1;for(e===n?(o=!0,le=[],Le=0,e=t.getElementsByTagName("*")):e.length===n&&(e=[e]),a=0,r=e.length;r>a;a++){var i=e[a],s=i,l=[],f=he,c=_e,u=!1;if(o&&H in i&&delete i[H],i.attributes){for(var d=0,p=i.attributes.length;p>d;d++){var h=i.attributes[d];if("data-anchor-target"!==h.name)if("data-smooth-scrolling"!==h.name)if("data-edge-strategy"!==h.name)if("data-emit-events"!==h.name){var g=h.name.match(N);if(null!==g){var v={props:h.value,element:i,eventType:h.name.replace(O,V)};l.push(v);var y=g[1];y&&(v.constant=y.substr(1));var _=g[2];/p$/.test(_)?(v.isPercentage=!0,v.offset=(0|_.slice(0,-1))/100):v.offset=0|_;var T=g[3],b=g[4]||T;T&&T!==E&&T!==F?(v.mode="relative",v.anchors=[T,b]):(v.mode="absolute",T===F?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*ze))}}else u=!0;else c=h.value;else f="off"!==h.value;else if(null===(s=t.querySelector(h.value)))throw'Unable to find anchor target "'+h.value+'"'}var x,w,S;if(l.length)!o&&H in i?(S=i[H],x=le[S].styleAttr,w=le[S].classAttr):(S=i[H]=Le++,x=i.style.cssText,w=Ce(i)),le[S]={element:i,styleAttr:x,classAttr:w,anchorTarget:s,keyFrames:l,smoothScrolling:f,edgeStrategy:c,emitEvents:u,lastFrameIndex:-1},Pe(i,[m],[])}}for(Ae(),a=0,r=e.length;r>a;a++){var k=le[e[a][H]];k!==n&&(J(k),te(k))}return se},a.prototype.relativeToAbsolute=function(e,t,n){var a=r.clientHeight,o=e.getBoundingClientRect(),i=o.top,s=o.bottom-o.top;return t===P?i-=a:t===C&&(i-=a/2),n===P?i+=s:n===C&&(i+=s/2),(i+=se.getScrollTop())+.5|0},a.prototype.animateTo=function(e,t){t=t||{};var a=Ie(),r=se.getScrollTop(),o=t.duration===n?w:t.duration;return(me={startTop:r,topDiff:e-r,targetTop:e,duration:o,startTime:a,endTime:a+o,easing:U[t.easing||x],done:t.done}).topDiff||(me.done&&me.done.call(se,!1),me=n),se},a.prototype.stopAnimateTo=function(){me&&me.done&&me.done.call(se,!0),me=n},a.prototype.isAnimatingTo=function(){return!!me},a.prototype.isMobile=function(){return Re},a.prototype.setScrollTop=function(t,n){return ye=!0===n,Re?Ge=l.min(l.max(t,0),$e):e.scrollTo(0,t),se},a.prototype.getScrollTop=function(){return Re?Ge:e.pageYOffset||r.scrollTop||o.scrollTop||0},a.prototype.getMaxScrollTop=function(){return $e},a.prototype.on=function(e,t){return ce[e]=t,se},a.prototype.off=function(e){return delete ce[e],se},a.prototype.destroy=function(){var e;Y()(be),Se(),Pe(r,[_],[y,T,b]);for(var t=0,a=le.length;a>t;t++)oe(le[t].element);r.style.overflow=o.style.overflow="",r.style.height=o.style.height="",fe&&i.setStyle(fe,"transform","none"),se=n,fe=n,ce=n,ue=n,$e=0,ze=1,de=n,pe=n,Oe="down",Ve=-1,Me=0,je=0,qe=!1,me=n,he=n,ge=n,ve=n,ye=n,Le=0,_e=n,Re=!1,Ge=0,Te=n};var X=function(){var a,i,s,f,m,h,g,v,y,_,T,b;xe(r,[c,u,d,p].join(" "),function(e){var r=e.changedTouches[0];for(f=e.target;3===f.nodeType;)f=f.parentNode;switch(m=r.clientY,h=r.clientX,_=e.timeStamp,D.test(f.tagName)||e.preventDefault(),e.type){case c:a&&a.blur(),se.stopAnimateTo(),a=f,i=g=m,s=h,y=_;break;case u:D.test(f.tagName)&&t.activeElement!==f&&e.preventDefault(),v=m-g,b=_-T,se.setScrollTop(Ge-v,!0),g=m,T=_;break;default:case d:case p:var o=i-m,x=s-h,w;if(49>x*x+o*o){if(!D.test(a.tagName)){a.focus();var S=t.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,e.view,1,r.screenX,r.screenY,r.clientX,r.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),a.dispatchEvent(S)}return}a=n;var k=v/b;k=l.max(l.min(k,3),-3);var A=l.abs(k/pe),E=k*A+.5*pe*A*A,F=se.getScrollTop()-E,C=0;F>$e?(C=($e-F)/E,F=$e):0>F&&(C=-F/E,F=0),A*=1-C,se.animateTo(F+.5|0,{easing:"outCubic",duration:A})}}),e.scrollTo(0,0),r.style.overflow=o.style.overflow="hidden"},W=function(){var e,t,n,a,o,i,s,f,c,u,d,p=r.clientHeight,m=Ee();for(f=0,c=le.length;c>f;f++)for(t=(e=le[f]).element,n=e.anchorTarget,o=0,i=(a=e.keyFrames).length;i>o;o++)u=(s=a[o]).offset,d=m[s.constant]||0,s.frame=u,s.isPercentage&&(u*=p,s.frame=u),"relative"===s.mode&&(oe(t),s.frame=se.relativeToAbsolute(n,s.anchors[0],s.anchors[1])-u,oe(t,!0)),s.frame+=d,ue&&!s.isEnd&&s.frame>$e&&($e=s.frame);for($e=l.max($e,Fe()),f=0,c=le.length;c>f;f++){for(o=0,i=(a=(e=le[f]).keyFrames).length;i>o;o++)d=m[(s=a[o]).constant]||0,s.isEnd&&(s.frame=$e-s.offset+d);e.keyFrames.sort(Ne)}},Z=function(e,t){for(var n=0,a=le.length;a>n;n++){var r,o,l=le[n],f=l.element,c=l.smoothScrolling?e:t,u=l.keyFrames,d=u.length,p=u[0],y=u[u.length-1],_=c<p.frame,T=c>y.frame,b=_?p:y,x=l.emitEvents,w=l.lastFrameIndex;if(_||T){if(_&&-1===l.edge||T&&1===l.edge)continue;switch(_?(Pe(f,[h],[v,g]),x&&w>-1&&(ke(f,p.eventType,Oe),l.lastFrameIndex=-1)):(Pe(f,[v],[h,g]),x&&d>w&&(ke(f,y.eventType,Oe),l.lastFrameIndex=d)),l.edge=_?-1:1,l.edgeStrategy){case"reset":oe(f);continue;case"ease":c=b.frame;break;default:case"set":var S=b.props;for(r in S)s.call(S,r)&&(o=re(S[r].value),0===r.indexOf("@")?f.setAttribute(r.substr(1),o):i.setStyle(f,r,o));continue}}else 0!==l.edge&&(Pe(f,[m,g],[h,v]),l.edge=0);for(var k=0;d-1>k;k++)if(c>=u[k].frame&&c<=u[k+1].frame){var A=u[k],E=u[k+1];for(r in A.props)if(s.call(A.props,r)){var F=(c-A.frame)/(E.frame-A.frame);F=A.props[r].easing(F),o=ae(A.props[r].value,E.props[r].value,F),o=re(o),0===r.indexOf("@")?f.setAttribute(r.substr(1),o):i.setStyle(f,r,o)}x&&w!==k&&(ke(f,"down"===Oe?A.eventType:E.eventType,Oe),l.lastFrameIndex=k);break}}},Q=function(){qe&&(qe=!1,Ae());var e,t,a=se.getScrollTop(),r=Ie();if(me)r>=me.endTime?(a=me.targetTop,e=me.done,me=n):(t=me.easing((r-me.startTime)/me.duration),a=me.startTop+t*me.topDiff|0),se.setScrollTop(a,!0);else if(!ye){var o;ve.targetTop-a&&(ve={startTop:Ve,topDiff:a-Ve,targetTop:a,startTime:Be,endTime:Be+ge}),r<=ve.endTime&&(t=U.sqrt((r-ve.startTime)/ge),a=ve.startTop+t*ve.topDiff|0)}if(ye||Ve!==a){ye=!1;var s={curTop:a,lastTop:Ve,maxTop:$e,direction:Oe=a>Ve?"down":Ve>a?"up":Oe},l;!1!==(ce.beforerender&&ce.beforerender.call(se,s))&&(Z(a,se.getScrollTop()),Re&&fe&&i.setStyle(fe,"transform","translate(0, "+-Ge+"px) "+Te),Ve=a,ce.render&&ce.render.call(se,s)),e&&e.call(se,!1)}Be=r},J=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var a,r,o,i,s=e.keyFrames[t],l={};null!==(i=$.exec(s.props));)o=i[1],r=i[2],null!==(a=o.match(z))?(o=a[1],a=a[2]):a=x,r=r.indexOf("!")?ee(r):[r.slice(1)],l[o]={value:r,easing:U[a]};s.props=l}},ee=function(e){var t=[];return j.lastIndex=0,e=e.replace(j,function(e){return e.replace(B,function(e){return e/255*100+"%"})}),R&&(q.lastIndex=0,e=e.replace(q,function(e){return R+e})),e=e.replace(B,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},te=function(e){var t,n,a={};for(t=0,n=e.keyFrames.length;n>t;t++)ne(e.keyFrames[t],a);for(a={},t=e.keyFrames.length-1;t>=0;t--)ne(e.keyFrames[t],a)},ne=function(e,t){var n;for(n in t)s.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},ae=function(e,t,n){var a,r=e.length;if(r!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var o=[e[0]];for(a=1;r>a;a++)o[a]=e[a]+(t[a]-e[a])*n;return o},re=function(e){var t=1;return M.lastIndex=0,e[0].replace(M,function(){return e[t++]})},oe=function(e,t){for(var n,a,r=0,o=(e=[].concat(e)).length;o>r;r++)a=e[r],(n=le[a[H]])&&(t?(a.style.cssText=n.dirtyStyleAttr,Pe(a,n.dirtyClassAttr)):(n.dirtyStyleAttr=a.style.cssText,n.dirtyClassAttr=Ce(a),a.style.cssText=n.styleAttr,Pe(a,n.classAttr)))},ie=function(){Te="translateZ(0)",i.setStyle(fe,"transform",Te);var e=f(fe),t=e.getPropertyValue("transform"),n=e.getPropertyValue(R+"transform"),a;t&&"none"!==t||n&&"none"!==n||(Te="")};i.setStyle=function(e,t,n){var a=e.style;if("zIndex"===(t=t.replace(O,V).replace("-","")))isNaN(n)?a[t]=n:a[t]=""+(0|n);else if("float"===t)a.styleFloat=a.cssFloat=n;else try{L&&(a[L+t.slice(0,1).toUpperCase()+t.slice(1)]=n),a[t]=n}catch(e){}};var se,le,fe,ce,ue,de,pe,me,he,ge,ve,ye,_e,Te,be,xe=i.addEvent=function(t,n,a){for(var r=function(t){return(t=t||e.event).target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),a.call(this,t)},o,i=0,s=(n=n.split(" ")).length;s>i;i++)o=n[i],t.addEventListener?t.addEventListener(o,a,!1):t.attachEvent("on"+o,r),Ke.push({element:t,name:o,listener:a})},we=i.removeEvent=function(e,t,n){for(var a=0,r=(t=t.split(" ")).length;r>a;a++)e.removeEventListener?e.removeEventListener(t[a],n,!1):e.detachEvent("on"+t[a],n)},Se=function(){for(var e,t=0,n=Ke.length;n>t;t++)e=Ke[t],we(e.element,e.name,e.listener);Ke=[]},ke=function(e,t,n){ce.keyframe&&ce.keyframe.call(se,e,t,n)},Ae=function(){var e=se.getScrollTop();$e=0,ue&&!Re&&(o.style.height=""),W(),ue&&!Re&&(o.style.height=$e+r.clientHeight+"px"),Re?se.setScrollTop(l.min(se.getScrollTop(),$e)):se.setScrollTop(e,!0),ye=!0},Ee=function(){var e,t,n=r.clientHeight,a={};for(e in de)"function"==typeof(t=de[e])?t=t.call(se):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),a[e]=t;return a},Fe=function(){var e,t=0;return fe&&(t=l.max(fe.offsetHeight,fe.scrollHeight)),(e=l.max(t,o.scrollHeight,o.offsetHeight,r.scrollHeight,r.offsetHeight,r.clientHeight))-r.clientHeight},Ce=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},Pe=function(t,a,r){var o="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[o],o="baseVal"),r!==n){for(var i=t[o],s=0,l=r.length;l>s;s++)i=De(i).replace(De(r[s])," ");i=He(i);for(var f=0,c=a.length;c>f;f++)-1===De(i).indexOf(De(a[f]))&&(i+=" "+a[f]);t[o]=He(i)}else t[o]=a},He=function(e){return e.replace(I,"")},De=function(e){return" "+e+" "},Ie=Date.now||function(){return+new Date},Ne=function(e,t){return e.frame-t.frame},$e=0,ze=1,Oe="down",Ve=-1,Be=Ie(),Me=0,je=0,qe=!1,Le=0,Re=!1,Ge=0,Ke=[];"function"==typeof define&&define.amd?define([],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.skrollr=i}(window,document),/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)||skrollr.init({forceHeight:!1,smoothScrolling:!0});var jRes=jRespond([{label:"small",enter:1,exit:640}]);jRes.addFunc({breakpoint:"small",enter:function(){window.location="/menu-m"}}),$(document).foundation({"magellan-expedition":{active_class:"active",threshold:0,destination_threshold:0,throttle_delay:50,fixed_top:0,offset_by_height:!0}});